<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Programming in JEE, Spring, and Angular">

    <title>Creating a page-centric site using Jekyll and GitHub Pages - bit1</title>

    <link rel="canonical" href="/2015/02/01/jekyll-page-centric-site.html">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">
    <link rel="stylesheet" href="/css/custom.css">

    <!-- Pygments Github CSS -->
    <!--<link rel="stylesheet" href="/css/syntax.css">-->

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">bit1</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about.html">about</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/jekyll2.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Creating a page-centric site using Jekyll and GitHub Pages</h1>
                    
                    <span class="meta">Posted by bit1 on February 1, 2015</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p><a href="http://jekyllrb.com/">Jekyll</a> is the ‘blog aware’ static site generator powering <a href="https://pages.github.com/">GitHub Pages</a>. It takes <a href="http://liquidmarkup.org/">Liquid</a> templates, static assets (like CSS and JavaScript), and <a href="http://daringfireball.net/projects/markdown/">markdown</a> documents, and outputs a site.</p>

<p>While Jekyll excells at creating blog-centric static sites, its not so clear from the documentation how to create a basic page-centric site. <a href="http://tony-waters.github.io/example-jekyll/">Here</a> is one I created by way of example. It contains information for visitors to a conference on ‘whatever’, including a welcome page, a page for each speaker, and a directions page (<a href="https://github.com/tony-waters/example-jekyll">source code</a>).</p>

<p><img src="/img/2015-02-18-conference-alice.png" alt="Image alt" title="a page from the sample site" /></p>

<h3 id="jekyll-folder-structure">Jekyll folder structure</h3>
<p>Creating a new Jekyll site can be done by running <code>jekyll new my-site-name</code>, which creates a ready made structure with some sample data that can be immediately viewed using <code>jekyll serve</code>. To keep it as clean as possible, I’ve created a minimal structure by hand instead. At minimum, Jeckyll needs a <code>_config.yml</code> file and a page to serve. I’ve added folers for <code>_layouts</code> and <code>_includes</code>.</p>

<p>Here is the final folder structure containing all the files needed to create the site. Notice there is no mention of posts.</p>

<p><img src="/img/2015-02-18-folders.png" alt="Image alt" title="the folder structure" /></p>

<h3 id="the-markdown">The markdown</h3>

<p>Each page on the site is generated from a markdown document (with the <code>.md</code> suffix). Adding a new page to the site is as simple as dropping a new markdown document into the site root and regenerating. Here is the markdown document for the welcome page <code>index.md</code>:</p>

<pre><code>---
title: Welcome
layout: default
menu-order: 10
---
#Welcome to the Conference
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi ut nulla eu massa 
imperdiet tincidunt. Donec luctus placerat tellus, nec consequat magna tempus 
ultricies. Proin blandit dictum felis, non vehicula sapien scelerisque et. Aliquam 
viverra elit molestie aliquet commodo. Sed pulvinar tellus augue, ut suscipit 
turpis sagittis a. Praesent dictum nisi neque, et eleifend lectus venenatis ac.
</code></pre>

<p>The main part of the document is the content itself, specified in markdown. At the top of the document we have some meta-data in the form of YAML Front Matter stating each pages <code>title</code>, which <code>layout</code> template to use, and a custom <code>menu-order</code> variable which we use to sort the navigation. I’ve decided to go up in 10s because it gives us room to add new pages later without having to edit existing markdown documents.</p>

<h3 id="the-template">The template</h3>
<p>Because this page has specified <code>layout: default</code> Jekyll knows to look in the <code>_layouts</code> folder for <code>default.html</code> and create the page using this template. <code>default.html</code> is used by all of our pages. It defines the page structure using HTML, Liquid includes, and some CSS classes to make it a little prettier:</p>

<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
    	{% include head.html %}
    &lt;/head&gt;
    &lt;body&gt;
        &lt;!--header--&gt;
        &lt;div class="container intro-header"&gt;
            &lt;div class="row"&gt;
                &lt;div class="col-lg-12"&gt;
                    &lt;div class="intro-message"&gt;
                        &lt;h1&gt;Welcome to the Conference&lt;/h1&gt;
                        &lt;h3&gt;Here is all the info you need&lt;/h3&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;!--main--&gt;
        &lt;div class="container page"&gt;
            &lt;div class="row"&gt;
                &lt;div class="col-md-3 sidebar"&gt;
                    {% include sidebar.html %}
                &lt;/div&gt;
                &lt;div class="col-md-9 content"&gt;
                     {{ content }}
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

        &lt;!--footer--&gt;
        &lt;div class="container footer"&gt;
            &lt;div class="row"&gt;
                &lt;div class="col-md-12 sidebar"&gt;
                    {% include footer.html %}
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;

    &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h3 id="the-dynamic-page-menu">The dynamic page menu</h3>
<p>To keep this modular I’ve included the header, footer and sidebar in separate html files in the <code>_includes</code> folder. Jekyll knows to look there for any included files. <code>sidebar.html</code> contains the dynamically generated menu:</p>

<pre><code>&lt;div class="sidebar" id="sidebar"&gt;
    &lt;ul class="list-unstyled"&gt;
     {% assign pages = site.pages | sort:'menu-order' %}
      {% for p in pages %}
      	{% if p.menu-order %}
            &lt;li&gt;
              &lt;a  {% if p.url == page.url %}class='active'{% endif %} href='{{ p.url }}'&gt;
                {{ p.title }}
              &lt;/a&gt;
            &lt;/li&gt;
         {% endif %}
       {% endfor %}
    &lt;/ul&gt;
&lt;/div&gt;
</code></pre>

<p>Jekyll contains a list of all the pages it knows about in a <code>site.pages</code> variable. We loop through this displaying a <code>&lt;li&gt;</code> for each page with a <code>menu-order</code>. Whenever a new markdown document is added containing a <code>menu-order</code> value in its YAML Front Matter, it will be included in the site menu.</p>

<p>We can now add other pages to the site, remove, and edit pages via manipulation of the  markdown documents.</p>

<h3 id="why-this-is-good">Why this is good</h3>
<p>The benefit of this approach is:</p>

<ul>
  <li>updating the site now soley revolves around creating new markdown documents and editing existing ones. Should a speaker change, or a new speaker join, we just change the markdown documents, re-generate, and push to GitHub</li>
  <li>there is no HTML to deal with for the document writer, just a standard format that can be picked up in minutes. Having said that, there are slightly more technical hurdles to jump in publishing the updated site compared to users of a CMS like WordPress/Joomla/Drupal </li>
  <li>no need for a big CMS like Wordpress/Joomla/Drupal, and hence
    <ul>
      <li>no security updates</li>
      <li>no management console</li>
      <li>no need to implement a caching strategy (its already static!)</li>
      <li>no usernames and passwords</li>
      <li>the list goes on …</li>
    </ul>
  </li>
</ul>

<h3 id="summary">Summary</h3>
<p>Jekyll provides a simple/powerful way of generating static sites from markdown documents. The nature of markdown means that it is both secure, and easy for non-developers to use. Combined with Github Pages, its a very convenient way to get a website workflow up and running quickly and for free. </p>


                <hr>

                <ul class="pager">
                    
                    
                    <li class="next">
                        <a href="/2015/02/02/using-cors-with-rest.html" data-toggle="tooltip" data-placement="top" title="Using CORS to simplify development of distributed Server and Client applications">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
<!--                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>-->
<!--                    -->
<!--                    -->
                    <li>
                        <a href="https://github.com/tony-waters">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                </ul>
                <p class="copyright text-muted">Copyright &copy; bit1 2015</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.js "></script>


</body>

</html>
